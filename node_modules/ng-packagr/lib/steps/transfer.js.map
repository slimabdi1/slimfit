{"version":3,"file":"transfer.js","sourceRoot":"","sources":["../../../src/lib/steps/transfer.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,gEAAiF;AACjF,yCAA2C;AAC3C,6BAA6B;AAE7B;;;;;GAKG;AACH,sCAAmD,KAAoB,EAAE,aAAqB;;QAC5F,MAAM,cAAc,GAAW,KAAK,CAAC,eAAe,CAAC,WAAW,CAAC,sCAAoB,CAAC,CAAC;QACvF,EAAE,CAAC,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACxB,MAAM,yBAAyB,GAAW,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC;YAC7F,MAAM,eAAe,GAAW,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,mBAAmB,EAAE,yBAAyB,CAAC,CAAC;YACnG,MAAM,gBAAS,CAAC,GAAG,KAAK,CAAC,cAAc,IAAI,yBAAyB,mBAAmB,EAAE,eAAe,CAAC,CAAC;QAC5G,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,gBAAS,CAAC,GAAG,KAAK,CAAC,cAAc,IAAI,KAAK,CAAC,eAAe,eAAe,EAAE,KAAK,CAAC,mBAAmB,CAAC,CAAC;QAC9G,CAAC;QAED,MAAM,gBAAS,CAAC,GAAG,KAAK,CAAC,cAAc,2BAA2B,EAAE,GAAG,KAAK,CAAC,mBAAmB,UAAU,CAAC,CAAC;QAC5G,MAAM,gBAAS,CAAC,GAAG,aAAa,4BAA4B,EAAE,KAAK,CAAC,eAAe,CAAC,CAAC;IACvF,CAAC;CAAA;AAZD,oEAYC","sourcesContent":["import { NgPackageData, SCOPE_NAME_SEPARATOR } from './../model/ng-package-data';\nimport { copyFiles } from './../util/copy';\nimport * as path from 'path';\n\n/**\n * Copies compiled source files from the build directory to the correct locations in the destination directory.\n *\n * @param ngPkg Angular package data.\n * @param baseBuildPath Path to where the source files are staged.\n */\nexport async function copySourceFilesToDestination(ngPkg: NgPackageData, baseBuildPath: string): Promise<void> {\n  const separatorIndex: number = ngPkg.fullPackageName.lastIndexOf(SCOPE_NAME_SEPARATOR);\n  if (separatorIndex > -1) {\n    const packageNameWithoutEndPart: string = ngPkg.fullPackageName.substring(0, separatorIndex);\n    const destinationPath: string = path.resolve(ngPkg.rootDestinationPath, packageNameWithoutEndPart);\n    await copyFiles(`${ngPkg.buildDirectory}/${packageNameWithoutEndPart}/**/*.{js,js.map}`, destinationPath);\n  } else {\n    await copyFiles(`${ngPkg.buildDirectory}/${ngPkg.fullPackageName}*.{js,js.map}`, ngPkg.rootDestinationPath);\n  }\n\n  await copyFiles(`${ngPkg.buildDirectory}/bundles/**/*.{js,js.map}`, `${ngPkg.rootDestinationPath}/bundles`);\n  await copyFiles(`${baseBuildPath}/**/*.{d.ts,metadata.json}`, ngPkg.destinationPath);\n}\n"]}