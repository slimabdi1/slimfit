{"version":3,"file":"ngx-webcam.es5.js","sources":["ts/ngx-webcam.ts","ts/src/app/modules/webcam/domain/webcam-mirror-properties.ts","ts/src/app/modules/webcam/domain/webcam-init-error.ts","ts/src/app/modules/webcam/webcam.module.ts","ts/src/app/modules/webcam/webcam/webcam.component.ts","ts/src/app/modules/webcam/util/webcam.util.ts","ts/src/app/modules/webcam/domain/webcam-image.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {WebcamModule,WebcamComponent,WebcamImage,WebcamInitError,WebcamMirrorProperties,WebcamUtil} from './public_api';\n","\nexport class WebcamMirrorProperties {\npublic x: string;  // [\"auto\", \"always\", \"never\"]\n}\n\nfunction WebcamMirrorProperties_tsickle_Closure_declarations() {\n/** @type {?} */\nWebcamMirrorProperties.prototype.x;\n}\n\n","\nexport class WebcamInitError {\npublic message: string = null;\npublic mediaStreamError: MediaStreamError = null;\n}\n\nfunction WebcamInitError_tsickle_Closure_declarations() {\n/** @type {?} */\nWebcamInitError.prototype.message;\n/** @type {?} */\nWebcamInitError.prototype.mediaStreamError;\n}\n\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {WebcamComponent} from './webcam/webcam.component';\n\nconst /** @type {?} */ COMPONENTS = [\n  WebcamComponent\n];\nexport class WebcamModule {\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    COMPONENTS\n  ],\n  exports: [\n    COMPONENTS\n  ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction WebcamModule_tsickle_Closure_declarations() {\n/** @type {?} */\nWebcamModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nWebcamModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {AfterViewInit, Component, EventEmitter, Input, OnDestroy, Output, ViewChild} from '@angular/core';\nimport {WebcamInitError} from '../domain/webcam-init-error';\nimport {WebcamImage} from '../domain/webcam-image';\nimport {Observable, Subscription} from 'rxjs';\nimport {WebcamUtil} from '../util/webcam.util';\nimport {WebcamMirrorProperties} from '../domain/webcam-mirror-properties';\nexport class WebcamComponent implements AfterViewInit, OnDestroy {\nprivate static DEFAULT_VIDEO_OPTIONS: MediaTrackConstraints = {facingMode: 'environment'};\n/**\n * Defines the max width of the webcam area in px\n */\npublic width: number = 640;\n/**\n * Defines the max height of the webcam area in px\n */\npublic height: number = 480;\n/**\n * If the Observable represented by this subscription emits, an image will be captured and emitted through\n * the 'imageCapture' EventEmitter\n */\nprivate triggerSubscription: Subscription;\n/**\n * Defines base constraints to apply when requesting video track from UserMedia\n */\npublic videoOptions: MediaTrackConstraints = WebcamComponent.DEFAULT_VIDEO_OPTIONS;\n/**\n * Flag to enable/disable camera switch. If enabled, a switch icon will be displayed if multiple cameras were found\n */\npublic allowCameraSwitch: boolean = true;\n/**\n * Parameter to control image mirroring (i.e. for user-facing camera). [\"auto\", \"always\", \"never\"]\n */\npublic mirrorImage: string | WebcamMirrorProperties;\n/**\n * Subscription to switchCamera events\n */\nprivate switchCameraSubscription: Subscription;\n/**\n * MediaStream object in use for streaming UserMedia data\n */\nprivate mediaStream: MediaStream = null;\n/**\n * available video devices\n */\npublic availableVideoInputs: MediaDeviceInfo[] = [];\n/**\n * Index of active video in availableVideoInputs\n */\nprivate activeVideoInputIndex: number = -1;\n/**\n * Indicates whether the video device is ready to be switched\n */\npublic videoInitialized: boolean = false;\n/**\n * EventEmitter which fires when an image has been captured\n */\npublic imageCapture: EventEmitter<WebcamImage> = new EventEmitter<WebcamImage>();\n/**\n * Emits a mediaError if webcam cannot be initialized (e.g. missing user permissions)\n */\npublic initError: EventEmitter<WebcamInitError> = new EventEmitter<WebcamInitError>();\n/**\n * Emits when the webcam video was clicked\n */\npublic imageClick: EventEmitter<void> = new EventEmitter<void>();\n/**\n * Emits the active deviceId after the active video device was switched\n */\npublic cameraSwitched: EventEmitter<string> = new EventEmitter<string>();\nprivate video: any;\nprivate canvas: any;\nprivate activeVideoSettings: MediaTrackSettings = null;\n/**\n * @return {?}\n */\npublic ngAfterViewInit(): void {\n    this.detectAvailableDevices()\n      .then((devices: MediaDeviceInfo[]) => {\n        // start first device\n        this.switchToVideoInput(devices.length > 0 ? devices[0].deviceId : null);\n      })\n      .catch((err: string) => {\n        this.initError.next( /** @type {?} */((<WebcamInitError>{message: err})));\n        // fallback: still try to load webcam, even if device enumeration failed\n        this.switchToVideoInput(null);\n      });\n  }\n/**\n * @return {?}\n */\npublic ngOnDestroy(): void {\n    this.stopMediaTracks();\n    this.unsubscribeFromSubscriptions();\n  }\n/**\n * If the given Observable emits, an image will be captured and emitted through 'imageCapture' EventEmitter\n * @param {?} trigger\n * @return {?}\n */\npublic set trigger(trigger: Observable<void>) {\n    if (this.triggerSubscription) {\n      this.triggerSubscription.unsubscribe();\n    }\n\n    // Subscribe to events from this Observable to take snapshots\n    this.triggerSubscription = trigger.subscribe(() => {\n      this.takeSnapshot();\n    });\n  }\n/**\n * @param {?} switchCamera\n * @return {?}\n */\npublic set switchCamera(switchCamera: Observable<boolean | string>) {\n    if (this.switchCameraSubscription) {\n      this.switchCameraSubscription.unsubscribe();\n    }\n\n    // Subscribe to events from this Observable to switch video device\n    this.switchCameraSubscription = switchCamera.subscribe((value: boolean | string) => {\n      if (typeof value === 'string') {\n        // deviceId was specified\n        this.switchToVideoInput(value);\n      } else {\n        // direction was specified\n        this.rotateVideoInput(value !== false);\n      }\n    })\n  }\n/**\n * Get MediaTrackConstraints to request streaming the given device\n * @param {?} deviceId\n * @param {?} baseMediaTrackConstraints base constraints to merge deviceId-constraint into\n * @return {?}\n */\nprivate static getMediaConstraintsForDevice(deviceId: string, baseMediaTrackConstraints: MediaTrackConstraints): MediaTrackConstraints {\n    let /** @type {?} */ result: MediaTrackConstraints = baseMediaTrackConstraints ? baseMediaTrackConstraints : this.DEFAULT_VIDEO_OPTIONS;\n    if (deviceId) {\n      result.deviceId = {exact: deviceId};\n    }\n\n    return result;\n  }\n/**\n * Tries to harvest the deviceId from the given mediaStreamTrack object.\n * Browsers populate this object differently; this method tries some different approaches\n * to read the id.\n * @param {?} mediaStreamTrack\n * @return {?}\n */\nprivate static getDeviceIdFromMediaStreamTrack(mediaStreamTrack: MediaStreamTrack): string {\n    if (mediaStreamTrack.getSettings && mediaStreamTrack.getSettings() && mediaStreamTrack.getSettings().deviceId) {\n      return mediaStreamTrack.getSettings().deviceId;\n    } else if (mediaStreamTrack.getConstraints && mediaStreamTrack.getConstraints() && mediaStreamTrack.getConstraints().deviceId) {\n      let /** @type {?} */ deviceIdObj: ConstrainDOMString = mediaStreamTrack.getConstraints().deviceId;\n      return WebcamComponent.getValueFromConstrainDOMString(deviceIdObj);\n    }\n  }\n/**\n * Tries to harvest the facingMode from the given mediaStreamTrack object.\n * Browsers populate this object differently; this method tries some different approaches\n * to read the value.\n * @param {?} mediaStreamTrack\n * @return {?}\n */\nprivate static getFacingModeFromMediaStreamTrack(mediaStreamTrack: MediaStreamTrack): string {\n    if (mediaStreamTrack) {\n      if (mediaStreamTrack.getSettings && mediaStreamTrack.getSettings() && mediaStreamTrack.getSettings().facingMode) {\n        return mediaStreamTrack.getSettings().facingMode;\n      } else if (mediaStreamTrack.getConstraints && mediaStreamTrack.getConstraints() && mediaStreamTrack.getConstraints().facingMode) {\n        let /** @type {?} */ facingModeConstraint: ConstrainDOMString = mediaStreamTrack.getConstraints().facingMode;\n        return WebcamComponent.getValueFromConstrainDOMString(facingModeConstraint);\n      }\n    }\n  }\n/**\n * Determines whether the given mediaStreamTrack claims itself as user facing\n * @param {?} mediaStreamTrack\n * @return {?}\n */\nprivate static isUserFacing(mediaStreamTrack: MediaStreamTrack): boolean {\n    let /** @type {?} */ facingMode: string = WebcamComponent.getFacingModeFromMediaStreamTrack(mediaStreamTrack);\n    return facingMode ? \"user\" === facingMode.toLowerCase() : false;\n  }\n/**\n * Extracts the value from the given ConstrainDOMString\n * @param {?} constrainDOMString\n * @return {?}\n */\nprivate static getValueFromConstrainDOMString(constrainDOMString: ConstrainDOMString): string {\n    if (constrainDOMString) {\n      if (constrainDOMString instanceof String) {\n        return String(constrainDOMString);\n      } else if (Array.isArray(constrainDOMString) && Array(constrainDOMString).length > 0) {\n        return String(constrainDOMString[0]);\n      } else if (typeof constrainDOMString === \"object\") {\n        if (constrainDOMString[\"exact\"]) {\n          return String(constrainDOMString[\"exact\"]);\n        } else if (constrainDOMString[\"ideal\"]) {\n          return String(constrainDOMString[\"ideal\"]);\n        }\n      }\n    }\n\n    return null;\n  }\n/**\n * Takes a snapshot of the current webcam's view and emits the image as an event\n * @return {?}\n */\npublic takeSnapshot(): void {\n    // set canvas size to actual video size\n    let /** @type {?} */ _video = this.video.nativeElement;\n    let /** @type {?} */ dimensions = {width: this.width, height: this.height};\n    if (_video.videoWidth) {\n      dimensions.width = _video.videoWidth;\n      dimensions.height = _video.videoHeight;\n    }\n\n    let /** @type {?} */ _canvas = this.canvas.nativeElement;\n    _canvas.width = dimensions.width;\n    _canvas.height = dimensions.height;\n\n    // paint snapshot image to canvas\n    _canvas.getContext('2d').drawImage(this.video.nativeElement, 0, 0);\n\n    // read canvas content as image\n    // TODO allow mimeType options as Input()\n    let /** @type {?} */ mimeType: string = \"image/jpeg\";\n    let /** @type {?} */ dataUrl: string = _canvas.toDataURL(mimeType);\n\n    this.imageCapture.next(new WebcamImage(dataUrl, mimeType));\n  }\n/**\n * Switches to the next/previous video device\n * @param {?} forward\n * @return {?}\n */\npublic rotateVideoInput(forward: boolean) {\n    if (this.availableVideoInputs && this.availableVideoInputs.length > 1) {\n      let /** @type {?} */ increment: number = forward ? 1 : (this.availableVideoInputs.length - 1);\n      this.switchToVideoInput(this.availableVideoInputs[(this.activeVideoInputIndex + increment) % this.availableVideoInputs.length].deviceId)\n    }\n  }\n/**\n * Switches the camera-view to the specified video device\n * @param {?} deviceId\n * @return {?}\n */\npublic switchToVideoInput(deviceId: string): void {\n    this.videoInitialized = false;\n    this.stopMediaTracks();\n    this.initWebcam(deviceId, this.videoOptions);\n  }\n/**\n * @return {?}\n */\npublic get videoWidth() {\n    let /** @type {?} */ videoRatio = this.getVideoAspectRatio(this.activeVideoSettings);\n    return Math.min(this.width, this.height * videoRatio);\n  }\n/**\n * @return {?}\n */\npublic get videoHeight() {\n    let /** @type {?} */ videoRatio = this.getVideoAspectRatio(this.activeVideoSettings);\n    return Math.min(this.height, this.width / videoRatio);\n  }\n/**\n * @return {?}\n */\npublic get videoStyleClasses() {\n    let /** @type {?} */ classes: string = \"\";\n\n    if (this.isMirrorImage()) {\n      classes += \"mirrored \";\n    }\n\n    return classes.trim();\n  }\n/**\n * Return the video aspect ratio from the given mediaTrackSettings, if possible;\n * Otherwise, calculate given the width/height parameters only\n * @param {?} mediaTrackSettings\n * @return {?}\n */\nprivate getVideoAspectRatio(mediaTrackSettings: MediaTrackSettings): number {\n    if (mediaTrackSettings) {\n      if (mediaTrackSettings.aspectRatio) {\n        // if ratio is present - use it\n        return mediaTrackSettings.aspectRatio;\n\n      } else if (mediaTrackSettings.width && mediaTrackSettings.width > 0 &&\n        mediaTrackSettings.height && mediaTrackSettings.height > 0) {\n        // if width+height are present - calculate ratio\n        return mediaTrackSettings.width / mediaTrackSettings.height;\n      }\n    }\n\n    // nothing present in mediaTrackSettings - calculate ratio based on width/height params\n    return this.width / this.height;\n  }\n/**\n * Init webcam live view\n * @param {?} deviceId\n * @param {?} userVideoTrackConstraints\n * @return {?}\n */\nprivate initWebcam(deviceId: string, userVideoTrackConstraints: MediaTrackConstraints) {\n    let /** @type {?} */ _video = this.video.nativeElement;\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n\n      // merge deviceId -> userVideoTrackConstraints\n      let /** @type {?} */ videoTrackConstraints = WebcamComponent.getMediaConstraintsForDevice(deviceId, userVideoTrackConstraints);\n\n      navigator.mediaDevices.getUserMedia( /** @type {?} */((<MediaStreamConstraints>{video: videoTrackConstraints})))\n        .then((stream: MediaStream) => {\n          this.mediaStream = stream;\n          _video.srcObject = stream;\n          _video.play();\n\n          this.activeVideoSettings = stream.getVideoTracks()[0].getSettings();\n          let /** @type {?} */ activeDeviceId: string = WebcamComponent.getDeviceIdFromMediaStreamTrack(stream.getVideoTracks()[0]);\n          this.activeVideoInputIndex = activeDeviceId ? this.availableVideoInputs\n            .findIndex((mediaDeviceInfo: MediaDeviceInfo) => mediaDeviceInfo.deviceId === activeDeviceId) : -1;\n          this.videoInitialized = true;\n\n          this.cameraSwitched.next(activeDeviceId);\n        })\n        .catch((err: MediaStreamError) => {\n          this.initError.next( /** @type {?} */((<WebcamInitError>{message: err.message, mediaStreamError: err})));\n        });\n    } else {\n      this.initError.next( /** @type {?} */((<WebcamInitError> {message: \"Cannot read UserMedia from MediaDevices.\"})));\n    }\n  }\n/**\n * @return {?}\n */\nprivate getActiveVideoTrack(): MediaStreamTrack {\n    return this.mediaStream ? this.mediaStream.getVideoTracks()[0] : null;\n  }\n/**\n * @return {?}\n */\nprivate isMirrorImage(): boolean {\n    if (!this.getActiveVideoTrack()) {\n      return false;\n    }\n\n    // check for explicit mirror override parameter\n    {\n      let /** @type {?} */ mirror: string = \"auto\";\n      if (this.mirrorImage) {\n        if (typeof this.mirrorImage === \"string\") {\n          mirror = String(this.mirrorImage).toLowerCase();\n        } else {\n          // WebcamMirrorProperties\n          if (this.mirrorImage.x) {\n            mirror = this.mirrorImage.x.toLowerCase();\n          }\n        }\n      }\n\n      switch (mirror) {\n        case \"always\":\n          return true;\n        case \"never\":\n          return false;\n      }\n    }\n\n    // default: enable mirroring if webcam is user facing\n    return WebcamComponent.isUserFacing(this.getActiveVideoTrack());\n  }\n/**\n * Stops all active media tracks.\n * This prevents the webcam from being indicated as active,\n * even if it is no longer used by this component.\n * @return {?}\n */\nprivate stopMediaTracks() {\n    if (this.mediaStream && this.mediaStream.getTracks) {\n      // getTracks() returns all media tracks (video+audio)\n      this.mediaStream.getTracks()\n        .forEach((track: MediaStreamTrack) => track.stop());\n    }\n  }\n/**\n * Unsubscribe from all open subscriptions\n * @return {?}\n */\nprivate unsubscribeFromSubscriptions() {\n    if (this.triggerSubscription) {\n      this.triggerSubscription.unsubscribe();\n    }\n    if (this.switchCameraSubscription) {\n      this.switchCameraSubscription.unsubscribe();\n    }\n  }\n/**\n * Reads available input devices\n * @return {?}\n */\nprivate detectAvailableDevices(): Promise<MediaDeviceInfo[]> {\n    return new Promise((resolve, reject) => {\n      WebcamUtil.getAvailableVideoInputs()\n        .then((devices: MediaDeviceInfo[]) => {\n          this.availableVideoInputs = devices;\n          resolve(devices);\n        })\n        .catch(err => {\n          this.availableVideoInputs = [];\n          reject(err);\n        });\n    });\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'webcam',\n  template: `\n    <div class=\"webcam-wrapper\" (click)=\"imageClick.next();\">\n      <video #video [width]=\"videoWidth\" [height]=\"videoHeight\" [class]=\"videoStyleClasses\" autoplay muted playsinline></video>\n      <div class=\"camera-switch\" *ngIf=\"allowCameraSwitch && availableVideoInputs.length > 1 && videoInitialized\" (click)=\"rotateVideoInput(true)\"></div>\n      <canvas #canvas [width]=\"width\" [height]=\"height\"></canvas>\n    </div>\n  `,\n  styles: [`\n    .webcam-wrapper {\n      display: inline-block;\n      position: relative;\n      line-height: 0; }\n      .webcam-wrapper video.mirrored {\n        -webkit-transform: scale(-1, 1);\n                transform: scale(-1, 1); }\n      .webcam-wrapper canvas {\n        display: none; }\n      .webcam-wrapper .camera-switch {\n        background-color: rgba(0, 0, 0, 0.1);\n        background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC\");\n        background-repeat: no-repeat;\n        border-radius: 5px;\n        position: absolute;\n        right: 13px;\n        top: 10px;\n        height: 48px;\n        width: 48px;\n        background-size: 80%;\n        cursor: pointer;\n        background-position: center;\n        -webkit-transition: background-color 0.2s ease;\n        transition: background-color 0.2s ease; }\n        .webcam-wrapper .camera-switch:hover {\n          background-color: rgba(0, 0, 0, 0.18); }\n  `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'width': [{ type: Input },],\n'height': [{ type: Input },],\n'videoOptions': [{ type: Input },],\n'allowCameraSwitch': [{ type: Input },],\n'mirrorImage': [{ type: Input },],\n'imageCapture': [{ type: Output },],\n'initError': [{ type: Output },],\n'imageClick': [{ type: Output },],\n'cameraSwitched': [{ type: Output },],\n'video': [{ type: ViewChild, args: ['video', ] },],\n'canvas': [{ type: ViewChild, args: ['canvas', ] },],\n'trigger': [{ type: Input },],\n'switchCamera': [{ type: Input },],\n};\n}\n\nfunction WebcamComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nWebcamComponent.DEFAULT_VIDEO_OPTIONS;\n/** @type {?} */\nWebcamComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nWebcamComponent.ctorParameters;\n/** @type {?} */\nWebcamComponent.propDecorators;\n/**\n * Defines the max width of the webcam area in px\n * @type {?}\n */\nWebcamComponent.prototype.width;\n/**\n * Defines the max height of the webcam area in px\n * @type {?}\n */\nWebcamComponent.prototype.height;\n/**\n * If the Observable represented by this subscription emits, an image will be captured and emitted through\n * the 'imageCapture' EventEmitter\n * @type {?}\n */\nWebcamComponent.prototype.triggerSubscription;\n/**\n * Defines base constraints to apply when requesting video track from UserMedia\n * @type {?}\n */\nWebcamComponent.prototype.videoOptions;\n/**\n * Flag to enable/disable camera switch. If enabled, a switch icon will be displayed if multiple cameras were found\n * @type {?}\n */\nWebcamComponent.prototype.allowCameraSwitch;\n/**\n * Parameter to control image mirroring (i.e. for user-facing camera). [\"auto\", \"always\", \"never\"]\n * @type {?}\n */\nWebcamComponent.prototype.mirrorImage;\n/**\n * Subscription to switchCamera events\n * @type {?}\n */\nWebcamComponent.prototype.switchCameraSubscription;\n/**\n * MediaStream object in use for streaming UserMedia data\n * @type {?}\n */\nWebcamComponent.prototype.mediaStream;\n/**\n * available video devices\n * @type {?}\n */\nWebcamComponent.prototype.availableVideoInputs;\n/**\n * Index of active video in availableVideoInputs\n * @type {?}\n */\nWebcamComponent.prototype.activeVideoInputIndex;\n/**\n * Indicates whether the video device is ready to be switched\n * @type {?}\n */\nWebcamComponent.prototype.videoInitialized;\n/**\n * EventEmitter which fires when an image has been captured\n * @type {?}\n */\nWebcamComponent.prototype.imageCapture;\n/**\n * Emits a mediaError if webcam cannot be initialized (e.g. missing user permissions)\n * @type {?}\n */\nWebcamComponent.prototype.initError;\n/**\n * Emits when the webcam video was clicked\n * @type {?}\n */\nWebcamComponent.prototype.imageClick;\n/**\n * Emits the active deviceId after the active video device was switched\n * @type {?}\n */\nWebcamComponent.prototype.cameraSwitched;\n/** @type {?} */\nWebcamComponent.prototype.video;\n/** @type {?} */\nWebcamComponent.prototype.canvas;\n/** @type {?} */\nWebcamComponent.prototype.activeVideoSettings;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\nexport class WebcamUtil {\n/**\n * Lists available videoInput devices\n * @return {?}\n */\npublic static getAvailableVideoInputs(): Promise<MediaDeviceInfo[]> {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {\n      return Promise.reject(\"enumerateDevices() not supported.\");\n    }\n\n    return new Promise((resolve, reject) => {\n      navigator.mediaDevices.enumerateDevices()\n        .then((devices: MediaDeviceInfo[]) => {\n          resolve(devices.filter((device: MediaDeviceInfo) => device.kind === 'videoinput'));\n        })\n        .catch(err => {\n          reject(err.message || err);\n        });\n    });\n  }\n}\n","\n/**\n * Container class for a captured webcam image\n * @author basst314\n */\nexport class WebcamImage {\nprivate _mimeType: string = null;\nprivate _imageAsBase64: string = null;\nprivate _imageAsDataUrl: string = null;\n/**\n * @param {?} imageAsDataUrl\n * @param {?} mimeType\n */\npublic constructor(imageAsDataUrl: string, mimeType: string) {\n    this._mimeType = mimeType;\n    this._imageAsDataUrl = imageAsDataUrl;\n  }\n/**\n * Get the base64 encoded image data\n * @return {?}\n */\npublic get imageAsBase64(): string {\n    return this._imageAsBase64 ?\n      this._imageAsBase64 : this._imageAsBase64 = this.getDataFromDataUrl(this._imageAsDataUrl);\n  }\n/**\n * Get the encoded image as dataUrl\n * @return {?}\n */\npublic get imageAsDataUrl(): string {\n    return this._imageAsDataUrl;\n  }\n/**\n * Extracts the Base64 data out of the given dataUrl.\n * @param {?} dataUrl\n * @return {?}\n */\nprivate getDataFromDataUrl(dataUrl: string) {\n    return dataUrl.replace(\"data:\" + this._mimeType + \";base64,\", \"\");\n  }\n}\n\nfunction WebcamImage_tsickle_Closure_declarations() {\n/** @type {?} */\nWebcamImage.prototype._mimeType;\n/** @type {?} */\nWebcamImage.prototype._imageAsBase64;\n/** @type {?} */\nWebcamImage.prototype._imageAsDataUrl;\n}\n\n"],"names":[],"mappings":"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"}
